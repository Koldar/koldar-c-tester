<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.7.6.1">
  <compounddef id="indexpage" kind="page">
    <compoundname>index</compoundname>
    <title>Koldar C Tester: a simple C tester</title>
    <detaileddescription>
<sect1 id="index_1section01">
<title>Introduction</title>
<para>The KoldarCTester is a single header that can be used to quickly implement a test case for C code. C++ pure code is not supported though.</para></sect1>
<sect1 id="index_1section02">
<title>To All People who want to setup it quickly</title>
<para>If you&apos;re in a hurry and want to setup KoldarCTester now, here the basic example to make it work:</para><para><programlisting><codeline><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#include<sp/>&quot;<ref refid="KoldarCTester_8h" kindref="compound">KoldarCTester.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//All<sp/>test<sp/>function<sp/>must<sp/>have<sp/>no<sp/>formal<sp/>parameters<sp/>and<sp/>void<sp/>as<sp/>return<sp/>type</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>testSomething(){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//code<sp/>something<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(a!=5){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>failMsg(</highlight><highlight class="stringliteral">&quot;a<sp/>is<sp/>not<sp/>5!\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>testSomethingElse(){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//code<sp/>something<sp/>here</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(a&gt;4){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fail();</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>main(){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member" tooltip="adds a new function in the test list">kct_addTest</ref>(testSomething);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member" tooltip="adds a new function in the test list">kct_addTest</ref>(testSomethingElse);</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1ac8a6b69e2336189f749c385c0f753bc6" kindref="member" tooltip="run all the test added to the test list.">kct_runAllTest</ref>(stdout);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
</programlisting></para></sect1>
<sect1 id="index_1section03">
<title>How to use KoldarCTester</title>
<para>Now that all the guys in a hurry are satisfied we can discuss how to correctly use this header. To use it you have to copy &quot;KoldarCTester.h&quot; within your header paths. After that you can create a new .c files that will be used as a single test suite: if you want more test suites, you&apos;ll have to create more .c files. A single test file .c is divided into 2 parts:<orderedlist>
<listitem><para>some test functions;</para></listitem><listitem><para>a main function;</para></listitem></orderedlist>
</para><para>Basically KoldarCTester is a function list manager: you create some function and then you use some header function to add them in a list. After that you can execute them all in one command: the header handles all the work for you. So, first of all, you can create a new file (call it TestInteger.c for example) and include the header:</para><para><programlisting><codeline><highlight class="preprocessor"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#include<sp/>&quot;<ref refid="KoldarCTester_8h" kindref="compound">KoldarCTester.h</ref>&quot;</highlight></codeline>
</programlisting></para><para>You have to be sure the header is inside in your &quot;include paths&quot; (maybe through the -I compiler directive). Secondly you have to create some test functions. For example, I have created these:</para><para><programlisting><codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Create<sp/>100<sp/>random<sp/>number<sp/>between<sp/>0<sp/>and<sp/>9<sp/>and<sp/>test<sp/>whether<sp/>or</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//not<sp/>the<sp/>upper<sp/>and<sp/>lower<sp/>bound<sp/>are<sp/>not<sp/>violated.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>testRandomX(){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;i&lt;100;i++){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n=rand()%10;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a08a4d20689cf30769e52d07364dce17d" kindref="member" tooltip="checks if a value is in a given interval">kct_assertExtremis</ref>(0,9,</highlight><highlight class="keyword">true</highlight><highlight class="normal">,</highlight><highlight class="keyword">true</highlight><highlight class="normal">,rand()%10);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Test<sp/>if<sp/>the<sp/>power<sp/>of<sp/>2<sp/>is<sp/>greater<sp/>than<sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>testPower(){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(i=0;i&lt;100;i++){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>num=rand()%100;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1ab47b71b14664ccf62a03056bf6afd299" kindref="member" tooltip="end the test as a failure if the condition is not met">kct_assertCondition</ref>(num*num&gt;=0);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
</programlisting></para><para>Let&apos;s skip up for the moment the &quot;kct_assertExtremis&quot; and &quot;kct_assertCondition&quot; part. Now you have created all the test you need to verify some feature of your program. Now you need to run these tests... how? The main function does exactly that:</para><para><programlisting><codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>main(){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//add<sp/>tests<sp/>in<sp/>the<sp/>function<sp/>list</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member" tooltip="adds a new function in the test list">kct_addTest</ref>(testRandomX);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member" tooltip="adds a new function in the test list">kct_addTest</ref>(testPower);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//run<sp/>the<sp/>tests</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1ac8a6b69e2336189f749c385c0f753bc6" kindref="member" tooltip="run all the test added to the test list.">kct_runAllTest</ref>(stdout);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
</programlisting></para><para>Now you can build it. The compiler will probably complaints about &quot;addTest&quot; and &quot;kct_runAllTest&quot; do nothings: don&apos;t trust him, these function are actually pretty useful! Now try to run the program: you should get something like this:</para><para><image type="html" name="image01.png"></image>
</para><para>The tests are stored in a list: though it might be not so fast (like Bjame Stroudtrup say in <ulink url="http://www.youtube.com/watch?v=YQs6IC-vgmo">http://www.youtube.com/watch?v=YQs6IC-vgmo</ulink>), the list are quite easy to understand even for programmers beginner, so everyone can improve freely the header. Moreover, unlike other test suite, this header is totally <bold>free of memory leak</bold>. Sure, you can say: &quot;well, that&apos;s should be obvious!&quot;; well, of course it is, but you&apos;ll never know what you download out in the internet.</para></sect1>
<sect1 id="index_1section04">
<title>Basic Elements in the header</title>
<para>In the header there are basically 6 important elements:<orderedlist>
<listitem><para>assertions;</para></listitem><listitem><para>function <ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member">kct_addTest()</ref>;</para></listitem><listitem><para>function <ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member">kct_addTestImproved()</ref>;</para></listitem><listitem><para>function <ref refid="KoldarCTester_8h_1ac8a6b69e2336189f749c385c0f753bc6" kindref="member">kct_runAllTest()</ref>;</para></listitem><listitem><para>variable currentTest;</para></listitem><listitem><para>variable testList;</para></listitem></orderedlist>
</para><para>&quot;testList&quot; variable represents the list that will store the functions and some other data.</para><para>&quot;currentTest&quot; is the test that is running at the moment; it is mainly used to lighten the prototype of the function: in this way the developer can <bold>focus</bold> on the test development insted of wasting time on understand the testing suite.</para><para><ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member">kct_addTest()</ref> is the main function used to add a function in the list.</para><para><ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member">kct_addTestImproved()</ref> has the same aim of <ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member">kct_addTest()</ref> but with this function you can also specify whether or not you want to skip the function.</para><para><ref refid="KoldarCTester_8h_1ac8a6b69e2336189f749c385c0f753bc6" kindref="member">kct_runAllTest()</ref> is obviously used to execute the test. Note that with this function the list is automatically deallocated from the heap: in this way, if you are testing memory leak in your code, Koldar C Tester will not produces memory leaks by itself.</para></sect1>
<sect1 id="index_1section05">
<title>Assertion</title>
<para>As we have introduce in the previous section, one of the most important things in the header are assertions. Assertions are shortcuts to test some conditions: if the condition is met nothing happens; otherwise the test is terminate and the header alerts you that in the specific test something went wrong.</para><para>For example, let assume you want to determinate if a pointer to a FILE returned by fopen is NULL or not. Normally you do something like this:</para><para><programlisting><codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FILE*<sp/>f=fopen(</highlight><highlight class="stringliteral">&quot;../test/fileToParse.txt&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(f==NULL){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fprintf(stderr,</highlight><highlight class="stringliteral">&quot;Cannot<sp/>open<sp/>the<sp/>file!\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
</programlisting></para><para>This works, but if you have lots of these small control your code readability can substantly decrease. Assert helps you in that:</para><para><programlisting><codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FILE*<sp/>f=fopen(</highlight><highlight class="stringliteral">&quot;../test/fileToParse.txt&quot;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&quot;r&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>kct_assertNotNullMsg(</highlight><highlight class="stringliteral">&quot;cannot<sp/>open<sp/>the<sp/>file!\n&quot;</highlight><highlight class="normal">,f);</highlight></codeline>
</programlisting></para><para>Smaller and more readable, right? Koldar C Tester let you use a lot of these assertions: you can read about all of them in the documentation! Generally speaking, however, assertion are divided into 2 strains:</para><para><itemizedlist>
<listitem><para><bold>pure assertions</bold> check only a particular condition;</para></listitem><listitem><para><bold>message assertion</bold> check a particular condition and if it is not met they warn you with an error message</para></listitem></itemizedlist>
</para></sect1>
<sect1 id="index_1section06">
<title>Skip tests</title>
<para>Let assume you have 100 tests regarding a particular big feature of your program. It is probable that, to execute all 100 tests, your computer needs some time. If you are sure that some tests (i.e 53 and 67) return a OK status, you might want to skip them, for not wasting time. Well, you can easily do that using <ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member">kct_addTestImproved(someTest,false)</ref>:</para><para><programlisting><codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member" tooltip="adds a new function in the test list">kct_addTestImproved</ref>(test51,</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member" tooltip="adds a new function in the test list">kct_addTestImproved</ref>(test52,</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member" tooltip="adds a new function in the test list">kct_addTestImproved</ref>(test53,</highlight><highlight class="keyword">false</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member" tooltip="adds a new function in the test list">kct_addTestImproved</ref>(test54,</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="KoldarCTester_8h_1a8b21af1302fae84b59f07b2b8964a64e" kindref="member" tooltip="adds a new function in the test list">kct_addTestImproved</ref>(test55,</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
</programlisting></para><para>While the first parameter is again the test function the second parameter indicates whether or not the computer should actually run the test: when you want to reexecute the function you can change &quot;false&quot; to &quot;true&quot;.</para><para>Sure, you can just comment out the particular &quot;kct_addTest(test53);&quot; line, but the header let you also handle the skip in this way.</para><para>Some notes about how skipping tests influence the result outcomes:<orderedlist>
<listitem><para>the ratio successful tests/Number of tests does count the skipped tests;</para></listitem><listitem><para>the ratio failed tests/Number of tests does count the skipped tests;</para></listitem><listitem><para>the percentage of successful tests does not count skipped tests;</para></listitem><listitem><para>the percentage of failed tests does not count skipped tests;</para></listitem></orderedlist>
</para><para>This means that the percentage of successful tests <bold>must always be 100%</bold>: if it isn&apos;t, then some tests aren&apos;t working. On the other hand the percentage of failed tests <bold>must always be 0%</bold>.</para></sect1>
<sect1 id="index_1section07">
<title>&quot;Deeper understanding of KoldarCTester.h&quot;</title>
<para>As we have said before, KoldarCTester basically creates a test list and loop over it.</para><para><dot> 
		digraph list {
			rankdir=&quot;LR&quot;;
			TestListHead [label=&quot;test list head structure\nmetadata&quot;];
			A [label=&quot;Test 1\n(head)&quot;];
			B [label=&quot;Test 2&quot;];
			C [label=&quot;Test 3&quot;];
			D [label=&quot;Test 4&quot;];
			E [label=&quot;Test 5&quot;];
			F [label=&quot;Test 6\n(tail)&quot;];

			TestListHead -&gt; A -&gt;B -&gt; C -&gt;D -&gt;E -&gt;F;
		}
	</dot></para><para>Firstly the list (which in the header has type <ref refid="structTestList" kindref="compound">TestList</ref>) is NULL. When someone use the function <ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member">kct_addTest()</ref> or a similar function, the header automatically initialize the metadata of the list (stored in a <ref refid="structTestList" kindref="compound">TestList</ref> structure). This struct has some metadata like: <itemizedlist>
<listitem><para>head (basilar if you want to loop over the list!); </para></listitem>
<listitem><para>tail (used to speed up the process of appending test at the tail of the list); </para></listitem>
<listitem><para>size;</para></listitem>
</itemizedlist>
When someone use <ref refid="KoldarCTester_8h_1a5e05020cd2cbf6ef54e4abb4c5d3ca57" kindref="member">kct_addTest()</ref> (or a similar function) the header automatically initialize a new element of <ref refid="structTestListElement" kindref="compound">TestListElement</ref> containing a pointer of the test functions (it also contains other small metadata). The newly created struct is then append at the tail of the list. Some of the metadata stored in a <ref refid="structTestListElement" kindref="compound">TestListElement</ref> is: <itemizedlist>
<listitem><para>the test function; </para></listitem>
<listitem><para>result (the outcome of this test);</para></listitem>
</itemizedlist>
The process continue over and over again until the main call <ref refid="KoldarCTester_8h_1ac8a6b69e2336189f749c385c0f753bc6" kindref="member">kct_runAllTest()</ref>: when it happens, the program will loop through the TestListElements in the list (starting from the head one); for each of them the header will run the test function and will update some of the metadata, including the field result: this result will be important at the end of all tests, when the header has to generate statistics (like the number of test failures).</para><para>To allow such compact APIs, Koldar C Tester uses 2 variables: <itemizedlist>
<listitem><para>a default <ref refid="structTestList" kindref="compound">TestList</ref> object which is used by every function in the header as default <ref refid="structTestList" kindref="compound">TestList</ref>: in this way there&apos;s no need for the developer to manually create and initialize such list; </para></listitem>
<listitem><para>a variable currentTest: while the program iterate through out all the list element, every <ref refid="structTestListElement" kindref="compound">TestListElement</ref> is stored in a temporary variable. In this way the program can exactly know what <ref refid="structTestListElement" kindref="compound">TestListElement</ref> it is handling;</para></listitem>
</itemizedlist>
<simplesect kind="date"><para>Nov 27, 2013 </para></simplesect>
<simplesect kind="author"><para>koldar </para></simplesect>
<simplesect kind="version"><para>1.0 </para></simplesect>
</para></sect1>
    </detaileddescription>
  </compounddef>
</doxygen>
